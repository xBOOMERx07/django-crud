{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-12">
            <h1 class="mb-4" style="font-size: 3rem;">
                <i data-lucide="layout-dashboard" style="width: 48px; height: 48px; vertical-align: middle;"></i>
                Panel de Control
            </h1>
            
            {% if datos_personales %}
                <div class="alert alert-success mb-4">
                    <div class="d-flex align-items-center justify-content-between">
                        <div>
                            <h4 class="mb-2">
                                <i data-lucide="check-circle" style="width: 24px; height: 24px; vertical-align: middle;"></i>
                                ¬°Bienvenido/a, {{ datos_personales.nombre_completo }}!
                            </h4>
                            <p class="mb-3" style="font-size: 1.1rem;">{{ datos_personales.descripcion_perfil }}</p>
                            <a href="{% url 'cv_publico' user.username %}" class="btn btn-primary" target="_blank">
                                <i data-lucide="eye" style="width: 18px; height: 18px; vertical-align: middle;"></i>
                                Ver mi CV P√∫blico
                            </a>
                        </div>
                    </div>
                </div>
            {% else %}
                <div class="alert alert-warning mb-4">
                    <h4 class="mb-2">
                        <i data-lucide="alert-triangle" style="width: 24px; height: 24px; vertical-align: middle;"></i>
                        Completa tu informaci√≥n personal
                    </h4>
                    <p class="mb-3">Primero debes agregar tu informaci√≥n personal para comenzar.</p>
                    <a href="{% url 'editar_datos_personales' %}" class="btn btn-warning">
                        <i data-lucide="edit" style="width: 18px; height: 18px; vertical-align: middle;"></i>
                        Completar Perfil Ahora
                    </a>
                </div>
            {% endif %}
            
            <div class="row mt-5 g-4">
                <!-- Datos Personales -->
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="mb-3">
                                <i data-lucide="user-circle" style="width: 48px; height: 48px; color: var(--accent-cyan);"></i>
                            </div>
                            <h5 class="card-title">Datos Personales</h5>
                            <p class="card-text">Edita tu informaci√≥n b√°sica, contacto y datos de identidad.</p>
                            <a href="{% url 'editar_datos_personales' %}" class="btn btn-primary w-100 mt-3">
                                <i data-lucide="edit-3" style="width: 16px; height: 16px; vertical-align: middle;"></i>
                                Editar
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Experiencia Laboral -->
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="mb-3">
                                <i data-lucide="briefcase" style="width: 48px; height: 48px; color: var(--accent-purple);"></i>
                            </div>
                            <h5 class="card-title">Experiencia Laboral</h5>
                            <p class="card-text">Gestiona tu historial profesional y cargos desempe√±ados.</p>
                            <a href="{% url 'lista_experiencias' %}" class="btn btn-primary w-100 mt-3">
                                <i data-lucide="briefcase" style="width: 16px; height: 16px; vertical-align: middle;"></i>
                                Administrar ({{ total_experiencias }})
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Cursos -->
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="mb-3">
                                <i data-lucide="book-open" style="width: 48px; height: 48px; color: var(--accent-pink);"></i>
                            </div>
                            <h5 class="card-title">Cursos Realizados</h5>
                            <p class="card-text">Administra tus capacitaciones y formaci√≥n adicional.</p>
                            <a href="{% url 'lista_cursos' %}" class="btn btn-primary w-100 mt-3">
                                <i data-lucide="book-open" style="width: 16px; height: 16px; vertical-align: middle;"></i>
                                Administrar ({{ total_cursos }})
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Habilidades -->
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="mb-3">
                                <i data-lucide="zap" style="width: 48px; height: 48px; color: var(--accent-cyan);"></i>
                            </div>
                            <h5 class="card-title">Habilidades</h5>
                            <p class="card-text">Define tus competencias t√©cnicas y profesionales.</p>
                            <a href="{% url 'lista_habilidades' %}" class="btn btn-primary w-100 mt-3">
                                <i data-lucide="cpu" style="width: 16px; height: 16px; vertical-align: middle;"></i>
                                Administrar ({{ total_habilidades }})
                            </a>
                        </div>
                    </div>
                </div>

                <!-- üèÜ RECONOCIMIENTOS (NUEVO) -->
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="mb-3">
                                <i data-lucide="award" style="width: 48px; height: 48px; color: #fbbf24;"></i>
                            </div>
                            <h5 class="card-title">Reconocimientos</h5>
                            <p class="card-text">Gestiona premios, menciones y reconocimientos acad√©micos o laborales.</p>
                            <a href="{% url 'lista_reconocimientos' %}" class="btn btn-primary w-100 mt-3">
                                <i data-lucide="trophy" style="width: 16px; height: 16px; vertical-align: middle;"></i>
                                Administrar ({{ total_reconocimientos }})
                            </a>
                        </div>
                    </div>
                </div>

                <!-- üìö PRODUCTOS ACAD√âMICOS (NUEVO) -->
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="mb-3">
                                <i data-lucide="book" style="width: 48px; height: 48px; color: #8b5cf6;"></i>
                            </div>
                            <h5 class="card-title">Productos Acad√©micos</h5>
                            <p class="card-text">Publicaciones, papers, investigaciones y recursos educativos.</p>
                            <a href="{% url 'lista_productos_academicos' %}" class="btn btn-primary w-100 mt-3">
                                <i data-lucide="file-text" style="width: 16px; height: 16px; vertical-align: middle;"></i>
                                Administrar ({{ total_productos_academicos }})
                            </a>
                        </div>
                    </div>
                </div>

                <!-- üì¶ PRODUCTOS LABORALES (NUEVO) -->
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100">
                        <div class="card-body">
                            <div class="mb-3">
                                <i data-lucide="package" style="width: 48px; height: 48px; color: #10b981;"></i>
                            </div>
                            <h5 class="card-title">Productos Laborales</h5>
                            <p class="card-text">Proyectos, aplicaciones y productos desarrollados en el trabajo.</p>
                            <a href="{% url 'lista_productos_laborales' %}" class="btn btn-primary w-100 mt-3">
                                <i data-lucide="box" style="width: 16px; height: 16px; vertical-align: middle;"></i>
                                Administrar ({{ total_productos_laborales }})
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Venta Garage -->
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100" style="border-bottom: 4px solid #f59e0b;">
                        <div class="card-body">
                            <div class="mb-3 d-flex justify-content-between align-items-start">
                                <i data-lucide="shopping-bag" style="width: 48px; height: 48px; color: #f59e0b;"></i>
                                <span class="badge rounded-pill bg-light text-dark border">Nuevo</span>
                            </div>
                            <h5 class="card-title">Venta Garage</h5>
                            <p class="card-text">Publica art√≠culos, establece estados (Bueno/Regular) y gestiona tus ventas.</p>
                            <a href="{% url 'lista_ventas_garage' %}" class="btn btn-primary w-100 mt-3" style="background-color: #f59e0b; border-color: #f59e0b;">
                                <i data-lucide="shopping-cart" style="width: 16px; height: 16px; vertical-align: middle;"></i>
                                Administrar ({{ total_ventas }})
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Panel Admin (si eres superusuario) -->
                {% if user.is_superuser %}
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100" style="border-color: var(--accent-pink);">
                        <div class="card-body">
                            <div class="mb-3">
                                <i data-lucide="shield" style="width: 48px; height: 48px; color: var(--accent-pink);"></i>
                            </div>
                            <h5 class="card-title">Panel Admin</h5>
                            <p class="card-text">Acceso completo al panel de administraci√≥n.</p>
                            <a href="/admin/" class="btn btn-warning w-100 mt-3" target="_blank">
                                <i data-lucide="settings" style="width: 16px; height: 16px; vertical-align: middle;"></i>
                                Ir al Admin
                            </a>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        lucide.createIcons();
    });
</script>
{% endblock %}